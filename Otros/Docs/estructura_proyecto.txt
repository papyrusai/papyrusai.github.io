# ğŸ“ ESTRUCTURA ACTUAL DEL PROYECTO PAPYRUS AI
# Estado: Post-Refactoring Completo (Enero 2025)
# ReducciÃ³n: 7000 lÃ­neas â†’ 175 lÃ­neas en app.js (98% optimizaciÃ³n)

papyrusai.github.io/
â”œâ”€â”€ ğŸ“„ app.js                         # â­ BOOTSTRAP PRINCIPAL (175 lÃ­neas)
â”‚                                     # ConfiguraciÃ³n Express, middlewares, montaje routers
â”œâ”€â”€ ğŸ“„ auth.js                        # ConfiguraciÃ³n estrategias Passport
â”œâ”€â”€ ğŸ“„ index.html                     # Landing page principal
â”œâ”€â”€ ğŸ“„ package.json                   # Dependencias Node.js
â”œâ”€â”€ ğŸ“„ package-lock.json              # Lock de dependencias
â”œâ”€â”€ ğŸ“„ requirements.txt               # Dependencias Python

â”œâ”€â”€ ğŸ“‚ routes/                        # ğŸ¯ ROUTERS MODULARES (12 archivos)
â”‚   â”œâ”€â”€ ğŸ“„ auth.routes.js             # AutenticaciÃ³n: login, register, OAuth (286 lÃ­neas)
â”‚   â”œâ”€â”€ ğŸ“„ profile.routes.js          # Perfil usuario: dashboard, datos (470 lÃ­neas)
â”‚   â”œâ”€â”€ ğŸ“„ static.routes.js           # PÃ¡ginas HTML estÃ¡ticas (71 lÃ­neas)
â”‚   â”œâ”€â”€ ğŸ“„ normativa.routes.js        # AnÃ¡lisis normativo + Python integration (260 lÃ­neas)
â”‚   â”œâ”€â”€ ğŸ“„ feedback.routes.js         # Sistema de feedback (227 lÃ­neas)
â”‚   â”œâ”€â”€ ğŸ“„ billing.routes.js          # Stripe + facturaciÃ³n (468 lÃ­neas)
â”‚   â”œâ”€â”€ ğŸ“„ user.routes.js             # CRUD usuarios (253 lÃ­neas)
â”‚   â”œâ”€â”€ ğŸ“„ generacioncontenido.routes.js # Marketing content + Python (268 lÃ­neas)
â”‚   â”œâ”€â”€ ğŸ“„ agentes.routes.js          # GeneraciÃ³n agentes IA (284 lÃ­neas)
â”‚   â”œâ”€â”€ ğŸ“„ listas.routes.js           # GestiÃ³n listas documentos (294 lÃ­neas)
â”‚   â”œâ”€â”€ ğŸ“„ onboarding.routes.js       # Onboarding + perfil regulatorio (312 lÃ­neas)
â”‚   â””â”€â”€ ğŸ“„ boletin.routes.js          # BoletÃ­n diario (183 lÃ­neas)

â”œâ”€â”€ ğŸ“‚ services/                      # ğŸ”§ SERVICIOS BACKEND
â”‚   â”œâ”€â”€ ğŸ“„ email.service.js           # SendGrid: password reset, subscription (518 lÃ­neas)
â”‚   â”œâ”€â”€ ğŸ“„ users.service.js           # GestiÃ³n usuarios especiales + lÃ­mites (198 lÃ­neas)
â”‚   â””â”€â”€ ğŸ“„ db.utils.js                # MongoDB utilities compartidas (61 lÃ­neas)

â”œâ”€â”€ ğŸ“‚ middleware/                    # âš¡ MIDDLEWARE COMPARTIDO
â”‚   â””â”€â”€ ğŸ“„ ensureAuthenticated.js     # Middleware autenticaciÃ³n

â”œâ”€â”€ ğŸ“‚ python/                        # ğŸ SCRIPTS IA (ORGANIZADOS)
â”‚   â”œâ”€â”€ ğŸ“„ questionsMongo.py          # AnÃ¡lisis documentos con Google Gemini
â”‚   â””â”€â”€ ğŸ“„ marketing.py               # GeneraciÃ³n contenido marketing

â”œâ”€â”€ ğŸ“‚ prompts/                       # ğŸ¤– CONFIGURACIÃ“N IA
â”‚   â”œâ”€â”€ ğŸ“„ contexto_regulatorio.md    # Prompt perfil regulatorio (YAML)
â”‚   â”œâ”€â”€ ğŸ“„ analisis_normativo.md      # Prompts anÃ¡lisis documentos
â”‚   â”œâ”€â”€ ğŸ“„ generacion_contenido.md    # Prompts marketing content
â”‚   â””â”€â”€ ğŸ“„ generacion_agentes.md      # Prompts generaciÃ³n agentes

â”œâ”€â”€ ğŸ“‚ Docs/                          # ğŸ“š DOCUMENTACIÃ“N
â”‚   â”œâ”€â”€ ğŸ“„ Account_creation.md        # Proceso creaciÃ³n cuentas
â”‚   â””â”€â”€ ğŸ“„ Arquitectura_Codigo.md     # â­ ARQUITECTURA COMPLETA POST-REFACTORING

â”œâ”€â”€ ğŸ“„ refactoring_planning.md        # ğŸ“‹ Planning y progreso refactoring

â”œâ”€â”€ ğŸ“‚ public/                        # ğŸŒ FRONTEND
â”‚   â”œâ”€â”€ ğŸ“„ profile.html               # â­ DASHBOARD PRINCIPAL (SPA shell)
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“‚ views/                     # Vistas especializadas
â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ analisis/
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ norma.html         # Vista anÃ¡lisis normativo
â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ boletindiario/
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ boletin.html       # Vista boletÃ­n diario
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ boletin.js         # JavaScript boletÃ­n
â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ configuracion/
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ configuracion_cuenta.html  # ConfiguraciÃ³n cuenta
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ contexto.js        # JavaScript onboarding
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ agentes.js         # JavaScript agentes
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ fuentes.js         # JavaScript fuentes
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ estructura_onboarding.json # Estructura onboarding
â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ consultas_publicas/
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ consultas_publicas.html # Radar consultas pÃºblicas
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ consultas_publicas.json # Datos consultas
â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ tracker/
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ tracker.html       # Vista tracker
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ tracker.js         # JavaScript tracker
â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ tuslistas/
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ tuslistas.html     # Vista listas + generaciÃ³n contenido
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ tuslistas.js       # JavaScript listas
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ textEditor.js      # Editor de texto
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ generacionContenido.js # JavaScript generaciÃ³n
â”‚   â”‚   â””â”€â”€ ğŸ“‚ busqueda_estadisticas/
â”‚   â”‚       â””â”€â”€ ğŸ“„ busqueda.html      # Vista bÃºsqueda
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“‚ styles/                    # CSS modular organizado
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ styles.css             # Estilos base generales
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ menu.css               # NavegaciÃ³n y menÃºs
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ profile.css            # Dashboard perfil
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ tuslistas.css          # Listas de documentos
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ agentes.css            # PÃ¡gina agentes
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ dropdown.css           # Componentes dropdown
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ login.css              # PÃ¡ginas autenticaciÃ³n
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ toggle.css             # Componentes toggle
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ radio_menu.css         # MenÃºs radio
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ mobile.css             # Responsive mÃ³vil
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ sidebar_styles.css     # Sidebar navegaciÃ³n
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ foot.css               # Footer
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ menu_index.css         # MenÃº landing page
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ suscripcion.css        # PÃ¡ginas suscripciÃ³n
â”‚   â”‚   â””â”€â”€ ğŸ“„ configuracion.css      # PÃ¡ginas configuraciÃ³n
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“‚ assets/                    # Recursos estÃ¡ticos
â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ fonts/                 # Fuentes personalizadas
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ Azonix.woff        # Fuente Azonix
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ Azonix.woff2       # Fuente Azonix v2
â”‚   â”‚   â”œâ”€â”€ ğŸ–¼ï¸ papyrus_app_white.png  # Logo blanco
â”‚   â”‚   â”œâ”€â”€ ğŸ–¼ï¸ papyrus_app.png        # Logo principal
â”‚   â”‚   â”œâ”€â”€ ğŸ–¼ï¸ compliance.png         # Imagen compliance
â”‚   â”‚   â”œâ”€â”€ ğŸ–¼ï¸ cuatrecasas_logo.png   # Logo Cuatrecasas
â”‚   â”‚   â”œâ”€â”€ ğŸ–¼ï¸ a&o_logo.png           # Logo A&O
â”‚   â”‚   â””â”€â”€ ğŸ“‚ other_files/           # Otros recursos (75+ archivos)
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“‚ features/                  # PÃ¡ginas funcionalidades
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ feedback.html          # PÃ¡gina feedback
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ reset-password.html    # Reset contraseÃ±a
â”‚   â”‚   â””â”€â”€ ğŸ“„ suscripcion_email.html # SuscripciÃ³n email
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“‚ onboarding/                # PÃ¡ginas onboarding
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ paso0.html             # Onboarding paso 0
â”‚   â”‚   â””â”€â”€ ğŸ“„ paso4.html             # Onboarding paso 4
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“‚ test_agentes/              # Testing agentes
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ agentes.html           # Test HTML agentes
â”‚   â”‚   â””â”€â”€ ğŸ“„ agentes.js             # Test JavaScript agentes
â”‚   â”‚
â”‚   â””â”€â”€ ğŸ“„ editarsuscripcion2.js      # Script ediciÃ³n suscripciÃ³n

â””â”€â”€ ğŸ“‚ assets/ (raÃ­z)                 # Assets nivel raÃ­z
    â”œâ”€â”€ ğŸ–¼ï¸ papyrus_app_white.png      # Logo blanco principal
    â”œâ”€â”€ ğŸ–¼ï¸ compliance.png             # Compliance badge
    â””â”€â”€ ğŸ–¼ï¸ google_trans-removebg-preview.png # Google Translate


# ğŸš« CARPETAS EXCLUIDAS DEL ANÃLISIS (segÃºn especificaciÃ³n):
# â”œâ”€â”€ ğŸ“‚ __pycache__/              # Cache Python - EXCLUIDO
# â”œâ”€â”€ ğŸ“‚ .vscode/                  # ConfiguraciÃ³n VS Code - EXCLUIDO  
# â”œâ”€â”€ ğŸ“‚ boletin/                  # Legacy - EXCLUIDO
# â”œâ”€â”€ ğŸ“‚ boletin - copia/          # Copia legacy - EXCLUIDO
# â”œâ”€â”€ ğŸ“‚ Data Analytics/           # AnÃ¡lisis datos - EXCLUIDO
# â”œâ”€â”€ ğŸ“‚ email_script/             # Scripts email legacy - EXCLUIDO
# â”œâ”€â”€ ğŸ“‚ email_script - copia/     # Copia scripts email - EXCLUIDO
# â”œâ”€â”€ ğŸ“‚ Evals/                    # Evaluaciones IA - EXCLUIDO
# â”œâ”€â”€ ğŸ“‚ node_modules/             # Dependencias npm - EXCLUIDO
# â”œâ”€â”€ ğŸ“‚ node_modules - copia/     # Copia dependencias - EXCLUIDO
# â”œâ”€â”€ ğŸ“‚ notes/                    # Notas desarrollo - EXCLUIDO
# â””â”€â”€ ğŸ“‚ Old/                      # Archivos antiguos - EXCLUIDO

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ğŸ“Š MÃ‰TRICAS DE REFACTORING CONSEGUIDAS:
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# âœ… ReducciÃ³n app.js: 7000 â†’ 175 lÃ­neas (98% optimizaciÃ³n)
# âœ… ModularizaciÃ³n: 12 routers + 5 servicios + 1 middleware  
# âœ… OrganizaciÃ³n Python: Scripts movidos a carpeta dedicada
# âœ… Prompts externos: ConfiguraciÃ³n IA en archivos YAML
# âœ… Servicios centralizados: Email, usuarios, DB utils
# âœ… Frontend organizado: Views especializadas + CSS modular
# âœ… DocumentaciÃ³n completa: Arquitectura + planning actualizado

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ğŸ¯ ARQUITECTURA RESULTANTE:
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ğŸ—ï¸ BACKEND: Express modular + MongoDB + Python IA
# ğŸŒ FRONTEND: SPA con carga dinÃ¡mica + CSS modular  
# ğŸ¤– IA: Google Gemini + prompts externos organizados
# ğŸ’³ BILLING: Stripe integrado + planes de suscripciÃ³n
# ğŸ” AUTH: Passport local + Google OAuth + usuarios especiales
# ğŸ“§ EMAIL: SendGrid centralizado + plantillas HTML
# ğŸ PYTHON: Scripts organizados + integraciÃ³n spawn
# ğŸ“š DOCS: Arquitectura completa documentada

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# âœ¨ BENEFICIOS CONSEGUIDOS:
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ğŸ”§ Mantenibilidad: CÃ³digo organizado por dominio
# âš¡ Escalabilidad: FÃ¡cil agregar nuevas funcionalidades  
# ğŸ§ª Testing: Cada mÃ³dulo testeable independientemente
# ğŸ‘¥ Desarrollo: MÃºltiples desarrolladores simultÃ¡neos
# ğŸš€ Deploy: Posibilidad de deploy granular por mÃ³dulo
# ğŸ› Debug: Errores localizados por dominio especÃ­fico
# ğŸ“– DocumentaciÃ³n: Cada mÃ³dulo con responsabilidades claras